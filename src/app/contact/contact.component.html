<form
    class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"
    [formGroup]="contactForm"
    (ngSubmit)="$event.preventDefault(); submitForm()"
>

    <div class="sm:col-span-4">
      <label class="block text-sm font-medium leading-6 text-white">Your Name</label>
      <div class="mt-2">
        <div class="flex rounded-lg bg-red-800 border-2 border-green-500 focus-within:border-green-700 sm:max-w-md">
          <input
            type="text"
            class="block flex-1 border-0 bg-transparent py-1.5 pl-3 text-white placeholder:text-red-600 focus:ring-0 sm:text-sm sm:leading-6"
            placeholder="Jane Smith"
            formControlName="senderName"
          >
        </div>

        <!-- TODO: Add a helper method or helper property inside the component class to clean the *ngIf -->
        <div *ngIf="contactForm.get('senderName')?.invalid && (contactForm.get('senderName')?.dirty) || (contactForm.get('senderName')?.touched)">
          <div
            class="flex justify-end text-red-400 pr-2"
            *ngIf="contactForm.get('senderName')?.hasError('required')"
          >* This field is required</div>
        </div>

      </div>
    </div>


    <div class="sm:col-span-4">
      <label class="block text-sm font-medium leading-6 text-white">Your Email Address</label>
      <div class="mt-2">
        <div class="flex rounded-lg bg-red-800 border-2 border-green-500 focus-within:border-green-700 sm:max-w-md">
          <input
            type="email"
            class="block flex-1 border-0 bg-transparent py-1.5 pl-3 text-white placeholder:text-red-600 focus:ring-0 sm:text-sm sm:leading-6"
            placeholder="jane@smith.com"
            formControlName="senderEmail"
          >
        </div>

        <!-- TODO: Add a helper method or helper property inside the component class to clean the *ngIf -->
        <div *ngIf="contactForm.get('senderEmail')?.invalid && (contactForm.get('senderEmail')?.dirty) || (contactForm.get('senderEmail')?.touched)">
          <div
            class="flex justify-end text-red-400 pr-2"
            *ngIf="contactForm.get('senderEmail')?.hasError('required')"
          >* This field is required</div>

          <div
            class="flex justify-end text-red-400 pr-2"
            *ngIf="contactForm.get('senderEmail')?.hasError('email')"
          >Please enter your email</div>

          <div
            class="flex justify-end text-red-400 pr-2"
            *ngIf="contactForm.get('senderEmail')?.hasError('customValidator')"
          >The email provider is not allowed</div>
        </div>

      </div>
    </div>


    <div class="col-span-full">
      <label class="block text-sm font-medium leading-6 text-white">Message</label>
      <div class="mt-2">
        <textarea 
          rows="3"
          class="block w-full rounded-lg p-3 bg-red-800 text-sm tracking-wide text-white border-2 border-green-500 focus:ring-0 focus:border-green-700 sm:leading-6 placeholder:text-red-600"
          placeholder="Add your message here!"
          formControlName="senderMessage"
        ></textarea>

        <!-- TODO: Add a helper method or helper property inside the component class to clean the *ngIf -->
        <div *ngIf="contactForm.get('senderMessage')?.invalid && (contactForm.get('senderMessage')?.dirty) || (contactForm.get('senderMessage')?.touched)">
          <div
            class="flex justify-end text-red-400 pr-2"
            *ngIf="contactForm.get('senderMessage')?.hasError('required')"
          >* This field is required</div>
          <div
          class="flex justify-end text-red-400 pr-2"
          *ngIf="contactForm.get('senderMessage')?.hasError('minlength')"
          >The message must be at least 10 characters</div>
        </div>

      </div>
    </div>


    <button
      types="submit"
      class="outline-0 border-2 border-green-500 bg-red-800 rounded-full px-4 py-1 active:scale-90"
      [disabled]="contactForm.invalid"
      >Send Message
    </button>

</form>